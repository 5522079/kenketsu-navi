<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>献血ナビ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+JP&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../static/css/main.css">
    <script type="text/javascript" src="../scripts/js/jmap.js"></script>
    <script type = "text/javascript">
        $(document).ready(function() {
            $('#pred-map').jmap({
                showHeatmap: true,
                heatmapLabelUnit: '人',
                heatmapType: 'HRed',
                showHeatlabel: true,
                onSelect: function(e, data) {
                    alert('人口は：%d 人です。'.replace('%d', (data.option.number * 1000).toLocaleString()));
                },
                areas: [
                    {code: 1,name: "北海道",number: 5320},
                    {code: 2,name: "青森",number: 1278},
                    {code: 3,name: "岩手",number: 1255},
                    {code: 4,name: "宮城",number: 2323},
                    {code: 5,name: "秋田",number: 996},
                    {code: 6,name: "山形",number: 1102},
                    {code: 7,name: "福島",number: 1882},
                    {code: 8,name: "茨城",number: 2892},
                    {code: 9,name: "栃木",number: 1957},
                    {code: 10,name: "群馬",number: 1960},
                    {code: 11,name: "埼玉",number: 7310},
                    {code: 12,name: "千葉",number: 6246},
                    {code: 13,name: "東京",number: 13724},
                    {code: 14,name: "神奈川",number: 9159},
                    {code: 15,name: "新潟",number: 2267},
                    {code: 16,name: "富山",number: 1056},
                    {code: 17,name: "石川",number: 1147},
                    {code: 18,name: "福井",number: 779},
                    {code: 19,name: "山梨",number: 823},
                    {code: 20,name: "長野",number: 2076},
                    {code: 21,name: "岐阜",number: 2008},
                    {code: 22,name: "静岡",number: 3675},
                    {code: 23,name: "愛知",number: 7525},
                    {code: 24,name: "三重",number: 1800},
                    {code: 25,name: "滋賀",number: 1413},
                    {code: 26,name: "京都",number: 2599},
                    {code: 27,name: "大阪",number: 8823},
                    {code: 28,name: "兵庫",number: 5503},
                    {code: 29,name: "奈良",number: 1348},
                    {code: 30,name: "和歌山",number: 945},
                    {code: 31,name: "鳥取",number: 565},
                    {code: 32,name: "島根",number: 685},
                    {code: 33,name: "岡山",number: 1907},
                    {code: 34,name: "広島",number: 2829},
                    {code: 35,name: "山口",number: 1383},
                    {code: 36,name: "徳島",number: 743},
                    {code: 37,name: "香川",number: 967},
                    {code: 38,name: "愛媛",number: 1364},
                    {code: 39,name: "高知",number: 714},
                    {code: 40,name: "福岡",number: 5107},
                    {code: 41,name: "佐賀",number: 824},
                    {code: 42,name: "長崎",number: 1354},
                    {code: 43,name: "熊本",number: 1765},
                    {code: 44,name: "大分",number: 1152},
                    {code: 45,name: "宮崎",number: 1089},
                    {code: 46,name: "鹿児島",number: 1626},
                    {code: 47,name: "沖縄",number: 1443}
                ]
            });
        });
    </script>
    <script type = "text/javascript">
        $(document).ready(function() {
            $('#status-map').jmap({
                showHeatmap: true,
                heatmapLabelUnit: '人',
                heatmapType: 'HRed',
                showHeatlabel: true,
                onSelect: function(e, data) {
                    alert('人口は：%d 人です。'.replace('%d', (data.option.number * 1000).toLocaleString()));
                },
                areas: [
                    {code: 1,name: "北海道",number: 5320},
                    {code: 2,name: "青森",number: 1278},
                    {code: 3,name: "岩手",number: 1255},
                    {code: 4,name: "宮城",number: 2323},
                    {code: 5,name: "秋田",number: 996},
                    {code: 6,name: "山形",number: 1102},
                    {code: 7,name: "福島",number: 1882},
                    {code: 8,name: "茨城",number: 2892},
                    {code: 9,name: "栃木",number: 1957},
                    {code: 10,name: "群馬",number: 1960},
                    {code: 11,name: "埼玉",number: 7310},
                    {code: 12,name: "千葉",number: 6246},
                    {code: 13,name: "東京",number: 13724},
                    {code: 14,name: "神奈川",number: 9159},
                    {code: 15,name: "新潟",number: 2267},
                    {code: 16,name: "富山",number: 1056},
                    {code: 17,name: "石川",number: 1147},
                    {code: 18,name: "福井",number: 779},
                    {code: 19,name: "山梨",number: 823},
                    {code: 20,name: "長野",number: 2076},
                    {code: 21,name: "岐阜",number: 2008},
                    {code: 22,name: "静岡",number: 3675},
                    {code: 23,name: "愛知",number: 7525},
                    {code: 24,name: "三重",number: 1800},
                    {code: 25,name: "滋賀",number: 1413},
                    {code: 26,name: "京都",number: 2599},
                    {code: 27,name: "大阪",number: 8823},
                    {code: 28,name: "兵庫",number: 5503},
                    {code: 29,name: "奈良",number: 1348},
                    {code: 30,name: "和歌山",number: 945},
                    {code: 31,name: "鳥取",number: 565},
                    {code: 32,name: "島根",number: 685},
                    {code: 33,name: "岡山",number: 1907},
                    {code: 34,name: "広島",number: 2829},
                    {code: 35,name: "山口",number: 1383},
                    {code: 36,name: "徳島",number: 743},
                    {code: 37,name: "香川",number: 967},
                    {code: 38,name: "愛媛",number: 1364},
                    {code: 39,name: "高知",number: 714},
                    {code: 40,name: "福岡",number: 5107},
                    {code: 41,name: "佐賀",number: 824},
                    {code: 42,name: "長崎",number: 1354},
                    {code: 43,name: "熊本",number: 1765},
                    {code: 44,name: "大分",number: 1152},
                    {code: 45,name: "宮崎",number: 1089},
                    {code: 46,name: "鹿児島",number: 1626},
                    {code: 47,name: "沖縄",number: 1443}
                ]
            });
        });
    </script>
    <script type = "text/javascript">
        $(function(){
            var countElm = $('.count'),
                duration = 2000; // 2秒でカウントアップを完了させる

            countElm.each(function(){
                var self = $(this),
                    countMax = parseFloat(self.attr('data')), // data-numから最大値を取得
                    thisCount = 0, // 初期値
                    frameRate = 60, // 1秒間に60フレーム（約16msごとに更新）
                    totalFrames = (duration / 1000) * frameRate, // 2秒間に何回更新するか
                    increment = countMax / totalFrames, // 1フレームごとの増加量
                    countTimer;

                function timer() {
                    countTimer = setInterval(function(){
                        thisCount += increment; // 増加量を追加
                        self.text(Math.floor(thisCount)); // 表示は整数にする

                        if (thisCount >= countMax) { // カウントが最大値を超えたら終了
                            self.text(countMax); // 最終値を正確に表示
                            clearInterval(countTimer);
                        }
                    }, 1000 / frameRate); // 毎秒60回更新
                }
                timer();
            });
        });
    </script>
</head>
<body>
    <header>
        <img src="../static/images/logo.png" alt="Image description" />
        <div class="header-items">
                <ul>
                    <li><a class="header-item" href="#">このサイトについて</a></li>
                    <li><a class="header-item" href="#">お問い合わせ</a></li>
                </ul>
                <div class="hamburger-menu">
                    <input type="checkbox" id="overlay-input" />
                    <label for="overlay-input" id="overlay-button">
                    <span></span>
                    </label>
                    <div id="overlay">
                        <ul>
                            <li><a href="#">トップページ</a></li>
                            <li><a href="#">このサイトについて</a></li>
                            <li><a href="#">お問い合わせ</a></li>
                        </ul>
                    </div>
                </div>
        </div>
    </header>
    <ol class="breadcrumb">
        <li><a href="/">TOP</a></li>
        <li>全国</li>
    </ol>
    <div class="main-content">
        <h1>献血者数予測AI</h1>
        <p class="content-detail">(全国 | {{date}}更新)</p>
        <section class="predict">
            <div class="box">
                <p>私たちは当サイトの運営を通じて、過不足のない献血供給に貢献できることを目指しています。</p>
                <div id="pred-map">
                    <div class="jmap-infobox">
                        <p>地図をクリックすると、「都道府県ごとのデータ」がご覧いただけます。</p>
                    </div>
                </div>
            </div>
        </section>
        <h1>現在の献血状況</h1>
        <p class="content-detail">(全国 | {{date}}更新)</p>
        <section class="status">
            <div class="box">
                <p>当サイトは献血の啓発活動を行うために開設されました。</p>
                <div id="status-map">
                    <div class="jmap-infobox">
                        <p>地図をクリックすると、「都道府県ごとのデータ」がご覧いただけます。</p>
                    </div>
                </div>
            </div>
        </section>
        <h1>数字で見る献血事業</h1>
        <p class="content-detail">(全国 | {{date}}更新)</p>
        <section class="data">
            <div class="box">
                <h2>これまで献血に協力していただいた人数</h2>
                <div class="image-container">
                    <img src="../static/images/data-people.png" alt="Image description" />
                </div>
                <p><span class="count" data="10000997">0</span>人</p>
            </div>
            <div class="box">
                <h2>これまでに献血された血液の総量</h2>
                <div class="image-container">
                    <img src="../static/images/data-blood.png" alt="Image description" />
                </div>
                <p><span class="count" data="132454500">0</span>L</p>
            </div>
            <div class="box">
                <h2>献血ルームの総数</h2>
                <div class="image-container">
                    <img src="../static/images/data-room.png" alt="Image description" />
                </div>
                <p><span class="count" data="100">0</span>箇所</p>
            </div>
        </section>
    </div>
    <footer>
    <ul class="footer-items">
        <li><a class="footer-item" href="#">このサイトについて</a></li>
        <li><a class="footer-item" href="#">お問い合わせ</a></li>
        <li><a class="footer-item" href="#">使用しているデータについて</a></li>
    </ul>
        <p class="copyright">© 2024 献血ナビ</p>
    </footer>
</body>
</html>
